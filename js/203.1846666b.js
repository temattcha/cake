"use strict";(self["webpackChunknvs"]=self["webpackChunknvs"]||[]).push([[203],{4203:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var i=a(3381),s=a(5893),o=a(5255),l=a(6270),n=a(3749),r=a(9088),d=a(7894),c=a(7404),m=a(2515),u=a(9007),p=a(2732),h=a(3845),f=function(){var e=this,t=e._self._c;return t(l.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.companyInfo,"sort-by":"razaoSocial"},scopedSlots:e._u([{key:"top",fn:function(){return[t(p.Z,{attrs:{flat:""}},[t(h.qW,[e._v("Transportadoras")]),t(m.Z),t(n.Z,{attrs:{"max-width":"700px",shaped:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(i.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[e._v(" Novo Cadastro ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("form",{attrs:{action:""}},[t(s.Z,{attrs:{shaped:""}},[t(o.EB,[e._v(e._s(e.formTitle))]),t(o.ZB,{attrs:{"lazy-validation":""}},[t(u.Z,{directives:[{name:"mask",rawName:"v-mask",value:"##.###.###/####-##",expression:"'##.###.###/####-##'"}],attrs:{value:e.currentValue,label:"CNPJ","prepend-icon":"mdi-card-text",rules:e.required,required:""},on:{input:e.handleInput},model:{value:e.editedItem.cnpj,callback:function(t){e.$set(e.editedItem,"cnpj",t)},expression:"editedItem.cnpj"}}),t(u.Z,{attrs:{label:"Razão Social","prepend-icon":"mdi-clipboard-account",rules:e.required,required:""},model:{value:e.editedItem.razaoSocial,callback:function(t){e.$set(e.editedItem,"razaoSocial",t)},expression:"editedItem.razaoSocial"}}),t(u.Z,{attrs:{label:"Nome Fantasia","prepend-icon":"mdi-clipboard-account"},model:{value:e.editedItem.nomeFantasia,callback:function(t){e.$set(e.editedItem,"nomeFantasia",t)},expression:"editedItem.nomeFantasia"}}),t(d.Z,{staticClass:"mx-1"},[t(c.Z,{attrs:{items:e.crt,label:"CRT"},model:{value:e.editedItem.crt,callback:function(t){e.$set(e.editedItem,"crt",t)},expression:"editedItem.crt"}}),t(u.Z,{directives:[{name:"mask",rawName:"v-mask",value:"(##) # ####-####",expression:"'(##) # ####-####'"}],attrs:{label:"Número de Celular","prepend-icon":"mdi-cellphone"},model:{value:e.editedItem.phoneNumber,callback:function(t){e.$set(e.editedItem,"phoneNumber",t)},expression:"editedItem.phoneNumber"}})],1),t(d.Z,{staticClass:"mx-1"},[t(u.Z,{directives:[{name:"mask",rawName:"v-mask",value:"#####-###",expression:"'#####-###'"}],attrs:{name:"cep",label:"CEP","prepend-icon":"mdi-office-building-marker"},on:{keyup:e.preencherCep},model:{value:e.cep,callback:function(t){e.cep=t},expression:"cep"}}),t(u.Z,{attrs:{label:"Número","prepend-icon":"mdi-numeric",rules:e.required},model:{value:e.numero,callback:function(t){e.numero=t},expression:"numero"}})],1),t(u.Z,{attrs:{label:"Logradouro",name:"rua",id:"rua"},model:{value:e.rua,callback:function(t){e.rua=t},expression:"rua"}}),t(u.Z,{attrs:{label:"Complemento",hint:"opcional",name:"complemento",id:"complemento"},model:{value:e.complemento,callback:function(t){e.complemento=t},expression:"complemento"}}),t(d.Z,{staticClass:"mx-1"},[t(c.Z,{directives:[{name:"mask",rawName:"v-mask",value:"AA",expression:"'AA'"}],staticClass:"mr-1",attrs:{items:e.uf,name:"uf",id:"uf",label:"UF"},model:{value:e.uf,callback:function(t){e.uf=t},expression:"uf"}}),t(u.Z,{attrs:{label:"Cidade",name:"cidade",id:"cidade"},model:{value:e.cidade,callback:function(t){e.cidade=t},expression:"cidade"}})],1)],1),t(o.h7,[t(m.Z),t(i.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),t(i.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Cadastrar ")])],1)],1)],1)]),t(n.Z,{attrs:{"max-width":"700px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(s.Z,[t(o.EB,{staticClass:"text-h6"},[e._v("Desativar Empresa")]),t(o.ZB,{staticClass:"red--text"},[e._v("Tem certeza que deseja desativar essa empresa?")]),t(o.h7,[t(m.Z),t(i.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDisable}},[e._v("Cancelar")]),t(i.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.disableCompanyConfirm}},[e._v("Desativar")]),t(m.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:a}){return[t(r.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),t(r.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.disableCompany(a)}}},[e._v(" mdi-delete ")]),t("router-link",{staticClass:"text-decoration-none",attrs:{to:"/usuarios"}},[t(r.Z,{attrs:{small:""}},[e._v(" mdi-account-multiple-plus ")])],1)]}},{key:"no-data",fn:function(){return[t(i.Z,{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}],null,!0)})},b=[],v=a(9669),x=a.n(v),I={name:"CompanyList",data:()=>({showPassword:!1,showPassword2:!1,dialog:!1,dialogDelete:!1,menu:!1,search:"",cep:"",rua:"",cidade:"",complemento:"",r:null,required:[e=>!!e||"Este campo é obrigatório"],crt:["Simples Nacional","Lucro Real","Lucro Presumido"],uf:["AC","AL","AM","AP","BA","CE","DF","ES","GO","MA","MG","MS","MT","PA","PB","PE","PI","PR","RJ","RN","RO","RR","RS","SC","SE","SP","TO"],headers:[{text:"Empresa",align:"start",sortable:!0,value:"razaoSocial"},{text:"CNPJ",value:"cnpj"},{text:"UF",value:"uf"},{text:"",value:"actions",sortable:!1}],companyInfo:[],editedIndex:-1,editedItem:{razaoSocial:"",cnpj:"",registerDate:"",uf:""},defaultItem:{razaoSocial:"",cnpj:"",registerDate:"",uf:""}}),computed:{formTitle(){return-1===this.editedIndex?"Cadastrar Empresa":"Editar Empresa"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDisable()}},created(){this.initialize(),this.getCep()},methods:{initialize(){this.companyInfo=[{razaoSocial:"P S DE ALMEIDA",cnpj:"80.309.122/0001-01",registerDate:"12/05/2019",uf:"SP"}]},editItem(e){this.editedIndex=this.companyInfo.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},disableCompany(e){this.editedIndex=this.companyInfo.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},disableCompanyConfirm(){this.companyInfo.splice(this.editedIndex,1),this.closeDisable()},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDisable(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},save(){this.editedIndex>-1?Object.assign(this.companyInfo[this.editedIndex],this.editedItem):this.companyInfo.push(this.editedItem),this.close()},getCep(e){return x().get(`https://viacep.com.br/ws/${e}/json/`)},preencherCep(){const e=this.cep.replace(/\D/g,"");8===e.length&&this.getCep(e).then((e=>{console.log(e),this.rua=e.data.logradouro,this.uf=e.data.uf,this.cidade=e.data.localidade,this.complemento=e.data.complemento,this.bairro=e.data.bairro}))}}},k=I,C=a(1001),Z=(0,C.Z)(k,f,b,!1,null,null,null),g=Z.exports}}]);
//# sourceMappingURL=203.1846666b.js.map